This is an example of to digitally sign and verify SOAP messages using Apache Axis2 and Rampart with policy based configuration. 
You should have a solid understanding of the principles of public-key cryptography, public key infrastructure (PKI), and digital signature (read [this] (http://blogs.msdn.com/b/plankytronixx/archive/2010/10/23/crypto-primer-understanding-encryption-public-private-key-signatures-and-certificates.aspx), for example). 

##Generating key pair and certificates
To get an official digital certificate signed by a recognized CA, you need to generate a public-private key pair and use the public key to create a certificate request. You then send that certificate request to your preferred authority and pay it. The authority in turn verifies your identity and issues the certificate with its signature.
For testing or internal use, you can instead generate your own self-signed certificates. The example code uses such self-signed certificates, one for the client and one for the server. To generate a key pair (private + public key),  you can use Java's keytool program. You can find a detailed tutorial on creating certificate authority (CA), server and client keypairs [here](http://wso2.com/library/174/).
The client.jks keystore used on the client side contains the client's private key and certificate, along with the server certificate (which must be stored on the client so that it is accepted as valid). You can inspect the content of the keystore by using Java's keytool: 
'''keytool -list -v -keystore path/to/service.jks -storepass servicePW
##Rampart
[Rampart](http://axis.apache.org/axis2/java/rampart/) is deployed as Axis2 module. To use it, archive rampart.mar should be put in web/WEB-INF/modules, and the line <module ref="rampart"/> must be added to axis2.xml (or services.xml). Rampart libraries (rampart-core, rampart-policy, rampart-trust, and rampart) must be copied to the same lib folder where the other axis2 libraries are located. 
Next, Rampart security policy is defined according to WS-Security Policy Language and added to services.xml file. This policy states security requirements of Web services in a standard, interoperable manner and has two main parts. Asymmetric binding defines what keys will be used, and a few additional properties such as which algorithms to be used in cryptographic operations, layout of the security header, etc. Signed parts assertion defines what parts of the message should be signed (here we will be signing the SOAP body of the message). You can find detailed tutorial on WS security policy [here](http://wso2.com/library/3132/).
When a security policy is applied to a Web service, the WSDL will be annotated with that particular security policy so the client can secure the SOAP messages according to the policy defined in the WSDL. Code generators that generate stubs to access the Web service can make use of these security polices defined in the WSDL.

